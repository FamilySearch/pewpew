"use strict";(self.webpackChunkresults_viewer_react=self.webpackChunkresults_viewer_react||[]).push([[27],{27:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RTT: () => (/* binding */ RTT),\n/* harmony export */   totalCalls: () => (/* binding */ totalCalls)\n/* harmony export */ });\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(106);\n/* harmony import */ var _util_log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(351);\n\n\nchart_js__WEBPACK_IMPORTED_MODULE_0__/* .Chart */ .t1.register(chart_js__WEBPACK_IMPORTED_MODULE_0__/* .LineElement */ .No, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .PointElement */ .FN, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .LineController */ .ZT, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .LinearScale */ .kc, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .LogarithmicScale */ .OJ, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .TimeScale */ .UA, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .Legend */ .s$, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .Title */ .hE, chart_js__WEBPACK_IMPORTED_MODULE_0__/* .Tooltip */ .m_);\nconst colors = [\n    "#3366cc",\n    "#dc3912",\n    "#ff9900",\n    "#109618",\n    "#990099",\n    "#0099c6",\n    "#dd4477",\n    "#66aa00",\n    "#b82e2e",\n    "#316395",\n    "#994499",\n    "#22aa99",\n    "#aaaa11",\n    "#6633cc",\n    "#e67300",\n    "#8b0707",\n    "#651067",\n    "#329262",\n    "#5574a6",\n    "#3b3eac"\n];\nfunction RTT(el, dataPoints) {\n    const MICROS_TO_MS = 1000;\n    const datasets = [\n        "avg",\n        "min",\n        "max",\n        "std",\n        90,\n        95,\n        99\n    ].map((type, i) => {\n        const borderColor = colors[i % colors.length];\n        const backgroundColor = borderColor + "46";\n        let label;\n        let data;\n        if (type === "avg") {\n            label = "Avg";\n            data = dataPoints.map((dp) => ({\n                x: dp.time,\n                y: dp.rttHistogram.getTotalCount()\n                    ? Math.round(dp.rttHistogram.getMean()) / MICROS_TO_MS\n                    : NaN\n            }));\n        }\n        else if (type === "min") {\n            label = "Min";\n            data = dataPoints.map((dp) => ({\n                x: dp.time,\n                y: dp.rttHistogram.getTotalCount()\n                    ? Number(dp.rttHistogram.getMinNonZeroValue()) / MICROS_TO_MS\n                    : NaN\n            }));\n        }\n        else if (type === "max") {\n            label = "Max";\n            data = dataPoints.map((dp) => ({\n                x: dp.time,\n                y: dp.rttHistogram.getTotalCount()\n                    ? Number(dp.rttHistogram.getMaxValue()) / MICROS_TO_MS\n                    : NaN\n            }));\n        }\n        else if (type === "std") {\n            label = "Std Dev";\n            data = dataPoints.map((dp) => ({\n                x: dp.time,\n                y: dp.rttHistogram.getTotalCount()\n                    ? Math.round(dp.rttHistogram.getStdDeviation()) / MICROS_TO_MS\n                    : NaN\n            }));\n        }\n        else if (typeof type === "number") {\n            label = type + "th PCTL";\n            data = dataPoints.map((dp) => ({\n                x: dp.time,\n                y: dp.rttHistogram.getTotalCount()\n                    ? Number(dp.rttHistogram.getValueAtPercentile(type)) / MICROS_TO_MS\n                    : NaN\n            }));\n        }\n        else {\n            throw new Error("Unexpected value when generating RTT chart");\n        }\n        return {\n            label,\n            borderColor,\n            backgroundColor,\n            data,\n            hidden: type === "std"\n        };\n    });\n    let chartType = "linear";\n    dataPoints.forEach((dp) => {\n        const shouldBeLogarithmic = dp.rttHistogram.getTotalCount() &&\n            Number(dp.rttHistogram.getMaxValue()) >\n                dp.rttHistogram.getMean() + 5 * dp.rttHistogram.getStdDeviation();\n        if (shouldBeLogarithmic) {\n            chartType = "logarithmic";\n        }\n    });\n    const mainChart = new chart_js__WEBPACK_IMPORTED_MODULE_0__/* .Chart */ .t1(el, {\n        type: "line",\n        data: { datasets },\n        options: {\n            scales: {\n                y: {\n                    type: chartType,\n                    title: {\n                        display: true,\n                        text: "RTT"\n                    },\n                    ticks: {\n                        callback: (v) => v + "ms",\n                        autoSkip: true\n                    }\n                },\n                x: {\n                    type: "time",\n                    time: {\n                        unit: "second"\n                    },\n                    ticks: {\n                        autoSkip: true\n                    }\n                }\n            },\n            plugins: {\n                tooltip: {\n                    callbacks: {\n                        label: ({ formattedValue }) => formattedValue + "ms"\n                    }\n                }\n            }\n        },\n        plugins: [\n            {\n                id: "afterBuildTicksLogrithmicFix",\n                beforeUpdate(chart) {\n                    const config = chart.options?.scales?.y;\n                    if (config) {\n                        config.afterBuildTicks = config.type === "logarithmic" ? afterBuildTicks : undefined;\n                    }\n                }\n            }\n        ]\n    });\n    return mainChart;\n}\nclass ChartDataSets {\n    dataSets = new Map();\n    dates = new Set();\n    setPoint(key, x, y, datasetParams = {}) {\n        this.dates.add(x);\n        if (!this.dataSets.has(key)) {\n            this.dataSets.set(key, [new Map(), datasetParams]);\n        }\n        this.dataSets.get(key)[0].set(x, y);\n    }\n    getDataSets() {\n        const ret = [];\n        const sortedEntries = [...this.dataSets.entries()].sort(([a], [b]) => {\n            if (a < b) {\n                return -1;\n            }\n            else if (b < a) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        });\n        for (const [label, [points, datasetParams]] of sortedEntries) {\n            const data = [];\n            for (const x of this.dates) {\n                const y = points.get(x) || 0;\n                data.push({ x, y });\n            }\n            const borderColor = colors[ret.length % colors.length];\n            const backgroundColor = borderColor + "46";\n            const dataset = { label, data, borderColor, backgroundColor };\n            ret.push(Object.assign(datasetParams, dataset));\n        }\n        return ret;\n    }\n}\nfunction totalCalls(el, dataPoints) {\n    const chartDataSets = new ChartDataSets();\n    for (const dp of dataPoints) {\n        const x = dp.time;\n        const statusCounts = Object.entries(dp.statusCounts).map(([k, v]) => [k + " count", v]);\n        const pairs = [...statusCounts, ...Object.entries(dp.testErrors)];\n        for (const [key, count] of pairs) {\n            chartDataSets.setPoint(key, x, count);\n        }\n        chartDataSets.setPoint("total calls", x, Number(dp.rttHistogram.getTotalCount()), { fill: false });\n    }\n    const datasets = chartDataSets.getDataSets();\n    const totalChart = new chart_js__WEBPACK_IMPORTED_MODULE_0__/* .Chart */ .t1(el, {\n        type: "line",\n        data: { datasets },\n        options: {\n            scales: {\n                y: {\n                    type: "linear",\n                    ticks: {\n                        precision: 0,\n                        autoSkip: true\n                    },\n                    title: {\n                        display: true,\n                        text: "Count"\n                    }\n                },\n                x: {\n                    type: "time",\n                    time: {\n                        unit: "second"\n                    },\n                    ticks: {\n                        autoSkip: true\n                    }\n                }\n            },\n            plugins: {\n                tooltip: {\n                    callbacks: {\n                        label: ({ datasetIndex, formattedValue: yLabel }) => {\n                            const { label } = datasets[datasetIndex || 0];\n                            const status = label ? parseInt(label.slice(0, 3), 10) : NaN;\n                            if (!isNaN(status)) {\n                                return `${yLabel} HTTP ${status}s`;\n                            }\n                            else if (label && label.startsWith("total")) {\n                                return `${yLabel} ${label.toLowerCase()}`;\n                            }\n                            else {\n                                return `${yLabel} ${label}`;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    });\n    return totalChart;\n}\nconst afterBuildTicks = (chart) => {\n    const maxTicks = Math.floor(Math.sqrt(chart.height));\n    const maxLog = Math.log(chart.ticks[0]);\n    const minLogSeparation = maxLog / maxTicks;\n    const myTicks = [];\n    let currLog = -Infinity;\n    chart.ticks.reverse().forEach((tick) => {\n        const newLog = Math.max(0, Math.log(tick));\n        if (newLog - currLog > minLogSeparation) {\n            myTicks.push(tick);\n            currLog = newLog;\n        }\n    });\n    chart.ticks = myTicks;\n};\n{\n    let lastLegendClick;\n    chart_js__WEBPACK_IMPORTED_MODULE_0__/* .Chart */ .t1.defaults.plugins.legend.onClick = function (_e, legendItem, legend) {\n        const chart = legend.chart;\n        const datasets = chart.data.datasets;\n        let allHidden = true;\n        if (legendItem.datasetIndex === undefined) {\n            (0,_util_log__WEBPACK_IMPORTED_MODULE_1__/* .log */ .Rm)("legendItem.datasetIndex was undefined. Please investigate", _util_log__WEBPACK_IMPORTED_MODULE_1__/* .LogLevel */ .$b.ERROR, legendItem);\n            return;\n        }\n        for (let i = 0; i < datasets.length; i++) {\n            const meta = chart.getDatasetMeta(i);\n            if (!meta.hidden && i !== legendItem.datasetIndex) {\n                allHidden = false;\n                break;\n            }\n        }\n        if (lastLegendClick && legendItem.datasetIndex === lastLegendClick[1]\n            && Date.now() - lastLegendClick[0] < 250) {\n            for (let i = 0; i < datasets.length; i++) {\n                const meta = chart.getDatasetMeta(i);\n                meta.hidden = i !== legendItem.datasetIndex;\n            }\n        }\n        else if (allHidden) {\n            for (let i = 0; i < datasets.length; i++) {\n                const meta = chart.getDatasetMeta(i);\n                meta.hidden = false;\n            }\n        }\n        else {\n            const meta = chart.getDatasetMeta(legendItem.datasetIndex);\n            meta.hidden = !legendItem.hidden;\n        }\n        chart.update();\n        lastLegendClick = [Date.now(), legendItem.datasetIndex, chart];\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7Z0JBQ3pDLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQzNELElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO1FBQ25DLENBQUM7UUFDRCxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7UUFFZixlQUFlLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsVUFBVSxDQUFDLFlBQVksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNqRSxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVzdWx0cy12aWV3ZXItcmVhY3QvLi9zcmMvY29tcG9uZW50cy9UZXN0UmVzdWx0cy9jaGFydHMudHM/MDQzOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFydCxcbiAgQ2hhcnREYXRhc2V0LFxuICBDaGFydEV2ZW50LFxuICBDaGFydFR5cGVSZWdpc3RyeSxcbiAgTGVnZW5kLFxuICBMZWdlbmRFbGVtZW50LFxuICBMZWdlbmRJdGVtLFxuICBMaW5lQ29udHJvbGxlcixcbiAgTGluZUVsZW1lbnQsXG4gIExpbmVhclNjYWxlLFxuICBMb2dhcml0aG1pY1NjYWxlLFxuICBQb2ludEVsZW1lbnQsXG4gIFNjYXR0ZXJEYXRhUG9pbnQsXG4gIFRpbWVTY2FsZSxcbiAgVGl0bGUsXG4gIFRvb2x0aXBcbn0gZnJvbSBcImNoYXJ0LmpzXCI7XG5pbXBvcnQgeyBMb2dMZXZlbCwgbG9nIH0gZnJvbSBcIi4uLy4uL3V0aWwvbG9nXCI7XG5pbXBvcnQgeyBEYXRhUG9pbnQgfSBmcm9tIFwiLi9tb2RlbFwiO1xuXG4vLyBodHRwczovL3d3dy5jaGFydGpzLm9yZy9kb2NzL2xhdGVzdC9nZXR0aW5nLXN0YXJ0ZWQvaW50ZWdyYXRpb24uaHRtbCNidW5kbGVycy13ZWJwYWNrLXJvbGx1cC1ldGNcbkNoYXJ0LnJlZ2lzdGVyKFxuICBMaW5lRWxlbWVudCxcbiAgUG9pbnRFbGVtZW50LFxuICBMaW5lQ29udHJvbGxlcixcbiAgTGluZWFyU2NhbGUsXG4gIExvZ2FyaXRobWljU2NhbGUsXG4gIFRpbWVTY2FsZSxcbiAgTGVnZW5kLFxuICBUaXRsZSxcbiAgVG9vbHRpcFxuKTtcblxuY29uc3QgY29sb3JzID0gW1xuICBcIiMzMzY2Y2NcIixcbiAgXCIjZGMzOTEyXCIsXG4gIFwiI2ZmOTkwMFwiLFxuICBcIiMxMDk2MThcIixcbiAgXCIjOTkwMDk5XCIsXG4gIFwiIzAwOTljNlwiLFxuICBcIiNkZDQ0NzdcIixcbiAgXCIjNjZhYTAwXCIsXG4gIFwiI2I4MmUyZVwiLFxuICBcIiMzMTYzOTVcIixcbiAgXCIjOTk0NDk5XCIsXG4gIFwiIzIyYWE5OVwiLFxuICBcIiNhYWFhMTFcIixcbiAgXCIjNjYzM2NjXCIsXG4gIFwiI2U2NzMwMFwiLFxuICBcIiM4YjA3MDdcIixcbiAgXCIjNjUxMDY3XCIsXG4gIFwiIzMyOTI2MlwiLFxuICBcIiM1NTc0YTZcIixcbiAgXCIjM2IzZWFjXCJcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBSVFQgKGVsOiBIVE1MQ2FudmFzRWxlbWVudCwgZGF0YVBvaW50czogRGF0YVBvaW50W10pOiBDaGFydCB7XG4gIGNvbnN0IE1JQ1JPU19UT19NUyA9IDEwMDA7XG4gIGNvbnN0IGRhdGFzZXRzID0gW1xuICAgIFwiYXZnXCIsXG4gICAgXCJtaW5cIixcbiAgICBcIm1heFwiLFxuICAgIFwic3RkXCIsXG4gICAgOTAsXG4gICAgOTUsXG4gICAgOTlcbiAgXS5tYXAoKHR5cGUsIGkpID0+IHtcbiAgICBjb25zdCBib3JkZXJDb2xvciA9IGNvbG9yc1tpICUgY29sb3JzLmxlbmd0aF07XG4gICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gYm9yZGVyQ29sb3IgKyBcIjQ2XCI7XG4gICAgbGV0IGxhYmVsOiBzdHJpbmc7XG4gICAgLy8gSXQncyBhIFNjYXR0ZXJEYXRhUG9pbnQgYnV0IHRoYW5rcyB0byBjaGFydGpzLWFkYXB0ZXItZGF0ZS1mbnMgaXQgd2lsbCBkYXRlIERhdGVzIGFzIHdlbGwgYXMgbnVtYmVyc1xuICAgIGxldCBkYXRhOiAoT21pdDxTY2F0dGVyRGF0YVBvaW50LCBcInhcIj4gJiB7IHg6IERhdGUgfCBudW1iZXIgfSlbXTtcbiAgICBpZiAodHlwZSA9PT0gXCJhdmdcIikge1xuICAgICAgbGFiZWwgPSBcIkF2Z1wiO1xuICAgICAgZGF0YSA9IGRhdGFQb2ludHMubWFwKChkcCkgPT4gKHtcbiAgICAgICAgeDogZHAudGltZSxcbiAgICAgICAgeTogZHAucnR0SGlzdG9ncmFtLmdldFRvdGFsQ291bnQoKVxuICAgICAgICAgID8gTWF0aC5yb3VuZChkcC5ydHRIaXN0b2dyYW0uZ2V0TWVhbigpKSAvIE1JQ1JPU19UT19NU1xuICAgICAgICAgIDogTmFOXG4gICAgICB9KSk7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibWluXCIpIHtcbiAgICAgIGxhYmVsID0gXCJNaW5cIjtcbiAgICAgIGRhdGEgPSBkYXRhUG9pbnRzLm1hcCgoZHApID0+ICh7XG4gICAgICAgIHg6IGRwLnRpbWUsXG4gICAgICAgIHk6IGRwLnJ0dEhpc3RvZ3JhbS5nZXRUb3RhbENvdW50KClcbiAgICAgICAgICA/IE51bWJlcihkcC5ydHRIaXN0b2dyYW0uZ2V0TWluTm9uWmVyb1ZhbHVlKCkpIC8gTUlDUk9TX1RPX01TXG4gICAgICAgICAgOiBOYU5cbiAgICAgIH0pKTtcblxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJtYXhcIikge1xuICAgICAgbGFiZWwgPSBcIk1heFwiO1xuICAgICAgZGF0YSA9IGRhdGFQb2ludHMubWFwKChkcCkgPT4gKHtcbiAgICAgICAgeDogZHAudGltZSxcbiAgICAgICAgeTogZHAucnR0SGlzdG9ncmFtLmdldFRvdGFsQ291bnQoKVxuICAgICAgICAgID8gTnVtYmVyKGRwLnJ0dEhpc3RvZ3JhbS5nZXRNYXhWYWx1ZSgpKSAvIE1JQ1JPU19UT19NU1xuICAgICAgICAgIDogTmFOXG4gICAgICB9KSk7XG5cbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwic3RkXCIpIHtcbiAgICAgIGxhYmVsID0gXCJTdGQgRGV2XCI7XG4gICAgICBkYXRhID0gZGF0YVBvaW50cy5tYXAoKGRwKSA9PiAoe1xuICAgICAgICB4OiBkcC50aW1lLFxuICAgICAgICB5OiBkcC5ydHRIaXN0b2dyYW0uZ2V0VG90YWxDb3VudCgpXG4gICAgICAgICAgPyBNYXRoLnJvdW5kKGRwLnJ0dEhpc3RvZ3JhbS5nZXRTdGREZXZpYXRpb24oKSkgLyBNSUNST1NfVE9fTVNcbiAgICAgICAgICA6IE5hTlxuICAgICAgfSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGxhYmVsID0gdHlwZSArIFwidGggUENUTFwiO1xuICAgICAgZGF0YSA9IGRhdGFQb2ludHMubWFwKChkcCkgPT4gKHtcbiAgICAgICAgeDogZHAudGltZSxcbiAgICAgICAgeTogZHAucnR0SGlzdG9ncmFtLmdldFRvdGFsQ291bnQoKVxuICAgICAgICAgID8gTnVtYmVyKGRwLnJ0dEhpc3RvZ3JhbS5nZXRWYWx1ZUF0UGVyY2VudGlsZSh0eXBlKSkgLyBNSUNST1NfVE9fTVNcbiAgICAgICAgICA6IE5hTlxuICAgICAgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIHZhbHVlIHdoZW4gZ2VuZXJhdGluZyBSVFQgY2hhcnRcIik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBsYWJlbCxcbiAgICAgIGJvcmRlckNvbG9yLFxuICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgZGF0YSxcbiAgICAgIGhpZGRlbjogdHlwZSA9PT0gXCJzdGRcIlxuICAgIH07XG4gIH0pO1xuXG4gIGxldCBjaGFydFR5cGU6IFwibGluZWFyXCIgfCBcImxvZ2FyaXRobWljXCIgPSBcImxpbmVhclwiO1xuICBkYXRhUG9pbnRzLmZvckVhY2goKGRwKSA9PiB7XG4gICAgY29uc3Qgc2hvdWxkQmVMb2dhcml0aG1pYyA9XG4gICAgICBkcC5ydHRIaXN0b2dyYW0uZ2V0VG90YWxDb3VudCgpICYmXG4gICAgICBOdW1iZXIoZHAucnR0SGlzdG9ncmFtLmdldE1heFZhbHVlKCkpID5cbiAgICAgICAgZHAucnR0SGlzdG9ncmFtLmdldE1lYW4oKSArIDUgKiBkcC5ydHRIaXN0b2dyYW0uZ2V0U3RkRGV2aWF0aW9uKCk7XG4gICAgaWYgKHNob3VsZEJlTG9nYXJpdGhtaWMpIHtcbiAgICAgIGNoYXJ0VHlwZSA9IFwibG9nYXJpdGhtaWNcIjtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnL2RvY3MvbGF0ZXN0L2dldHRpbmctc3RhcnRlZC92My1taWdyYXRpb24uaHRtbFxuICBjb25zdCBtYWluQ2hhcnQgPSBuZXcgQ2hhcnQoZWwsIHtcbiAgICB0eXBlOiBcImxpbmVcIixcbiAgICBkYXRhOiB7IGRhdGFzZXRzIH0sXG4gICAgb3B0aW9uczoge1xuICAgICAgc2NhbGVzOiB7XG4gICAgICAgIHk6IHtcbiAgICAgICAgICB0eXBlOiBjaGFydFR5cGUsXG4gICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICB0ZXh0OiBcIlJUVFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgY2FsbGJhY2s6ICh2KSA9PiB2ICsgXCJtc1wiLFxuICAgICAgICAgICAgYXV0b1NraXA6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHg6IHtcbiAgICAgICAgICB0eXBlOiBcInRpbWVcIixcbiAgICAgICAgICB0aW1lOiB7XG4gICAgICAgICAgICB1bml0OiBcInNlY29uZFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgYXV0b1NraXA6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwbHVnaW5zOiB7XG4gICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICBjYWxsYmFja3M6IHtcbiAgICAgICAgICAgIGxhYmVsOiAoeyBmb3JtYXR0ZWRWYWx1ZSB9KSA9PiBmb3JtYXR0ZWRWYWx1ZSArIFwibXNcIlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgcGx1Z2luczogW1xuICAgICAge1xuICAgICAgICBpZDogXCJhZnRlckJ1aWxkVGlja3NMb2dyaXRobWljRml4XCIsXG4gICAgICAgIGJlZm9yZVVwZGF0ZSAoY2hhcnQ6IENoYXJ0KSB7XG4gICAgICAgICAgY29uc3QgY29uZmlnID0gY2hhcnQub3B0aW9ucz8uc2NhbGVzPy55O1xuICAgICAgICAgIGlmIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5hZnRlckJ1aWxkVGlja3MgPSBjb25maWcudHlwZSA9PT0gXCJsb2dhcml0aG1pY1wiID8gYWZ0ZXJCdWlsZFRpY2tzIDogdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSk7XG4gIHJldHVybiBtYWluQ2hhcnQgYXMgYW55IGFzIENoYXJ0O1xufVxuXG5jbGFzcyBDaGFydERhdGFTZXRzIHtcbiAgcHVibGljIGRhdGFTZXRzID0gbmV3IE1hcDxcbiAgICBzdHJpbmcsXG4gICAgW01hcDxEYXRlLCBudW1iZXI+LCBDaGFydERhdGFzZXRdXG4gID4oKTtcbiAgcHVibGljIGRhdGVzID0gbmV3IFNldDxEYXRlPigpO1xuXG4gIHB1YmxpYyBzZXRQb2ludCAoXG4gICAga2V5OiBzdHJpbmcsXG4gICAgeDogRGF0ZSxcbiAgICB5OiBudW1iZXIsXG4gICAgZGF0YXNldFBhcmFtczogYW55ID0ge31cbiAgKSB7XG4gICAgdGhpcy5kYXRlcy5hZGQoeCk7XG4gICAgaWYgKCF0aGlzLmRhdGFTZXRzLmhhcyhrZXkpKSB7XG4gICAgICB0aGlzLmRhdGFTZXRzLnNldChrZXksIFtuZXcgTWFwKCksIGRhdGFzZXRQYXJhbXNdKTtcbiAgICB9XG4gICAgdGhpcy5kYXRhU2V0cy5nZXQoa2V5KSFbMF0uc2V0KHgsIHkpO1xuICB9XG5cbiAgcHVibGljIGdldERhdGFTZXRzICgpOiBDaGFydERhdGFzZXRbXSB7XG4gICAgY29uc3QgcmV0OiBDaGFydERhdGFzZXRbXSA9IFtdO1xuICAgIGNvbnN0IHNvcnRlZEVudHJpZXMgPSBbLi4udGhpcy5kYXRhU2V0cy5lbnRyaWVzKCldLnNvcnQoKFthXSwgW2JdKSA9PiB7XG4gICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChiIDwgYSkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZvciAoY29uc3QgW2xhYmVsLCBbcG9pbnRzLCBkYXRhc2V0UGFyYW1zXV0gb2Ygc29ydGVkRW50cmllcykge1xuICAgICAgY29uc3QgZGF0YSA9IFtdO1xuICAgICAgZm9yIChjb25zdCB4IG9mIHRoaXMuZGF0ZXMpIHtcbiAgICAgICAgY29uc3QgeSA9IHBvaW50cy5nZXQoeCkgfHwgMDtcbiAgICAgICAgZGF0YS5wdXNoKHsgeCwgeSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGJvcmRlckNvbG9yID0gY29sb3JzW3JldC5sZW5ndGggJSBjb2xvcnMubGVuZ3RoXTtcbiAgICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9IGJvcmRlckNvbG9yICsgXCI0NlwiO1xuICAgICAgY29uc3QgZGF0YXNldCA9IHsgbGFiZWwsIGRhdGEsIGJvcmRlckNvbG9yLCBiYWNrZ3JvdW5kQ29sb3IgfTtcbiAgICAgIHJldC5wdXNoKE9iamVjdC5hc3NpZ24oZGF0YXNldFBhcmFtcywgZGF0YXNldCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3RhbENhbGxzIChlbDogSFRNTENhbnZhc0VsZW1lbnQsIGRhdGFQb2ludHM6IERhdGFQb2ludFtdKTogQ2hhcnQge1xuICBjb25zdCBjaGFydERhdGFTZXRzID0gbmV3IENoYXJ0RGF0YVNldHMoKTtcbiAgZm9yIChjb25zdCBkcCBvZiBkYXRhUG9pbnRzKSB7XG4gICAgY29uc3QgeCA9IGRwLnRpbWU7XG4gICAgY29uc3Qgc3RhdHVzQ291bnRzID0gT2JqZWN0LmVudHJpZXMoZHAuc3RhdHVzQ291bnRzKS5tYXAoXG4gICAgICAoW2ssIHZdKSA9PiBbayArIFwiIGNvdW50XCIsIHZdIGFzIFtzdHJpbmcsIG51bWJlcl1cbiAgICApO1xuICAgIGNvbnN0IHBhaXJzID0gWy4uLnN0YXR1c0NvdW50cywgLi4uT2JqZWN0LmVudHJpZXMoZHAudGVzdEVycm9ycyldO1xuICAgIGZvciAoY29uc3QgW2tleSwgY291bnRdIG9mIHBhaXJzKSB7XG4gICAgICBjaGFydERhdGFTZXRzLnNldFBvaW50KGtleSwgeCwgY291bnQpO1xuICAgIH1cbiAgICBjaGFydERhdGFTZXRzLnNldFBvaW50KFxuICAgICAgXCJ0b3RhbCBjYWxsc1wiLFxuICAgICAgeCxcbiAgICAgIE51bWJlcihkcC5ydHRIaXN0b2dyYW0uZ2V0VG90YWxDb3VudCgpKSxcbiAgICAgIHsgZmlsbDogZmFsc2UgfVxuICAgICk7XG4gIH1cbiAgY29uc3QgZGF0YXNldHMgPSBjaGFydERhdGFTZXRzLmdldERhdGFTZXRzKCk7XG4gIC8vIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnL2RvY3MvbGF0ZXN0L2dldHRpbmctc3RhcnRlZC92My1taWdyYXRpb24uaHRtbFxuICBjb25zdCB0b3RhbENoYXJ0ID0gbmV3IENoYXJ0KGVsLCB7XG4gICAgdHlwZTogXCJsaW5lXCIsXG4gICAgZGF0YTogeyBkYXRhc2V0cyB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHNjYWxlczoge1xuICAgICAgICB5OiB7XG4gICAgICAgICAgdHlwZTogXCJsaW5lYXJcIixcbiAgICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgcHJlY2lzaW9uOiAwLFxuICAgICAgICAgICAgYXV0b1NraXA6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpdGxlOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgdGV4dDogXCJDb3VudFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB4OiB7XG4gICAgICAgICAgdHlwZTogXCJ0aW1lXCIsXG4gICAgICAgICAgdGltZToge1xuICAgICAgICAgICAgdW5pdDogXCJzZWNvbmRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgdGlja3M6IHtcbiAgICAgICAgICAgIGF1dG9Ta2lwOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGx1Z2luczoge1xuICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgICAgICBsYWJlbDogKHsgZGF0YXNldEluZGV4LCBmb3JtYXR0ZWRWYWx1ZTogeUxhYmVsIH0pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgeyBsYWJlbCB9ID0gZGF0YXNldHNbZGF0YXNldEluZGV4IHx8IDBdO1xuICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBsYWJlbCA/IHBhcnNlSW50KGxhYmVsLnNsaWNlKDAsIDMpLCAxMCkgOiBOYU47XG4gICAgICAgICAgICAgIGlmICghaXNOYU4oc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHt5TGFiZWx9IEhUVFAgJHtzdGF0dXN9c2A7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobGFiZWwgJiYgbGFiZWwuc3RhcnRzV2l0aChcInRvdGFsXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3lMYWJlbH0gJHtsYWJlbC50b0xvd2VyQ2FzZSgpfWA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAke3lMYWJlbH0gJHtsYWJlbH1gO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRvdGFsQ2hhcnQ7XG59XG5cbi8vIERlZmF1bHQgbG9nYXJ0aWhtaWMgZ3JhcGggeSBheGlzIHRpY2tzIG92ZXJsYXAgYW5kIGRvIG5vdCBsb29rIGdvb2QuXG4vLyBUaGlzIGZ1bmN0aW9uIGlzIGFwcGxpZWQgdG8gdGhlIGNoYXJ0IGNvbmZpZywgYW5kIG1vZGlmaWVzIHRoZSB5IGF4aXMgdGlja3MgYWZ0ZXIgdGhlIGNoYXJ0IGlzIGNyZWF0ZWQuXG5jb25zdCBhZnRlckJ1aWxkVGlja3MgPSAoY2hhcnQ6IGFueSkgPT4ge1xuICAvLyBTZXRzIHRoZSBtYXggYW1vdW50IG9mIHRpY2tzIGZvciB0aGUgeS1heGlzLCBtYXkgbm90IGJlIGFjdHVhbCBudW1iZXIgb2YgdGlja3MgZGlzcGxheWVkXG4gIGNvbnN0IG1heFRpY2tzID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoY2hhcnQuaGVpZ2h0KSk7XG4gIC8vIEZpbmRzIHRoZSBtYXggdmFsdWUgdG8gZ28gdG9cbiAgY29uc3QgbWF4TG9nID0gTWF0aC5sb2coY2hhcnQudGlja3NbMF0pO1xuICAvLyBHZXRzIG1pbmltdW0gZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzXG4gIGNvbnN0IG1pbkxvZ1NlcGFyYXRpb24gPSBtYXhMb2cgLyBtYXhUaWNrcztcblxuICBjb25zdCBteVRpY2tzOiBudW1iZXJbXSA9IFtdO1xuICBsZXQgY3VyckxvZyA9IC1JbmZpbml0eTtcbiAgY2hhcnQudGlja3MucmV2ZXJzZSgpLmZvckVhY2goKHRpY2s6IG51bWJlcikgPT4ge1xuICAgIC8vIE1ha2VzIHN1cmUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICBjb25zdCBuZXdMb2cgPSBNYXRoLm1heCgwLCBNYXRoLmxvZyh0aWNrKSk7XG4gICAgLy8gSWYgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgaXMgZ3JlYXRlciB0aGFuIG1pbiBzZXBhcmF0aW9uLCBhZGQgaXQgdG8gdGhlIHRpY2tzXG4gICAgaWYgKG5ld0xvZyAtIGN1cnJMb2cgPiBtaW5Mb2dTZXBhcmF0aW9uKSB7XG4gICAgICBteVRpY2tzLnB1c2godGljayk7XG4gICAgICBjdXJyTG9nID0gbmV3TG9nO1xuICAgIH1cbiAgfSk7XG4gIC8vIFNldHMgY2hhcnQgdGlja3MgdG8gbW9kaWZpZWQgdGlja3NcbiAgY2hhcnQudGlja3MgPSBteVRpY2tzO1xufTtcblxuLy8gYWRkIGEgZG91YmxlLWNsaWNrIGhhbmRsZXIgdG8gdGhlIGNoYXJ0IGxlZ2VuZHNcbntcbiAgbGV0IGxhc3RMZWdlbmRDbGljazogW251bWJlciwgbnVtYmVyLCBDaGFydF0gfCB1bmRlZmluZWQ7XG5cbiAgQ2hhcnQuZGVmYXVsdHMucGx1Z2lucy5sZWdlbmQub25DbGljayA9IGZ1bmN0aW9uIChcbiAgICBfZTogQ2hhcnRFdmVudCxcbiAgICBsZWdlbmRJdGVtOiBMZWdlbmRJdGVtLFxuICAgIGxlZ2VuZDogTGVnZW5kRWxlbWVudDxrZXlvZiBDaGFydFR5cGVSZWdpc3RyeT5cbiAgKSB7XG4gICAgY29uc3QgY2hhcnQ6IENoYXJ0ID0gbGVnZW5kLmNoYXJ0O1xuICAgIGNvbnN0IGRhdGFzZXRzID0gY2hhcnQuZGF0YS5kYXRhc2V0cyE7XG4gICAgbGV0IGFsbEhpZGRlbiA9IHRydWU7XG4gICAgaWYgKGxlZ2VuZEl0ZW0uZGF0YXNldEluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGxvZyhcImxlZ2VuZEl0ZW0uZGF0YXNldEluZGV4IHdhcyB1bmRlZmluZWQuIFBsZWFzZSBpbnZlc3RpZ2F0ZVwiLCBMb2dMZXZlbC5FUlJPUiwgbGVnZW5kSXRlbSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YXNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG1ldGEgPSBjaGFydC5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgIGlmICghbWV0YS5oaWRkZW4gJiYgaSAhPT0gbGVnZW5kSXRlbS5kYXRhc2V0SW5kZXgpIHtcbiAgICAgICAgYWxsSGlkZGVuID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobGFzdExlZ2VuZENsaWNrICYmIGxlZ2VuZEl0ZW0uZGF0YXNldEluZGV4ID09PSBsYXN0TGVnZW5kQ2xpY2tbMV1cbiAgICAgICYmIERhdGUubm93KCkgLSBsYXN0TGVnZW5kQ2xpY2tbMF0gPCAyNTApIHtcbiAgICAgIC8vIGRvdWJsZSBjbGlja1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSk7XG4gICAgICAgIG1ldGEuaGlkZGVuID0gaSAhPT0gbGVnZW5kSXRlbS5kYXRhc2V0SW5kZXg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbGxIaWRkZW4pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YXNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKGkpO1xuICAgICAgICBtZXRhLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEobGVnZW5kSXRlbS5kYXRhc2V0SW5kZXgpO1xuICAgICAgbWV0YS5oaWRkZW4gPSAhbGVnZW5kSXRlbS5oaWRkZW47XG4gICAgfVxuICAgIGNoYXJ0LnVwZGF0ZSgpO1xuICAgIC8vIHRpbWVTdGFtcCB3YXMgcmVtb3ZlZCBmcm9tIENoYXJ0RXZlbnQsIHVzZSBEYXRlLm5vdygpIGluc3RlYWRcbiAgICBsYXN0TGVnZW5kQ2xpY2sgPSBbRGF0ZS5ub3coKSwgbGVnZW5kSXRlbS5kYXRhc2V0SW5kZXgsIGNoYXJ0XTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///27\n\n}')}}]);