<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>providers section</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../src/custom.css">
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="../design.html">Pewpew design overview</a></li><li class="chapter-item expanded "><a href="../config.html">Config file</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../config/config-section.html">config section</a></li><li class="chapter-item expanded "><a href="../config/load_pattern-section.html">load_pattern section</a></li><li class="chapter-item expanded "><a href="../config/vars-section.html">vars section</a></li><li class="chapter-item expanded "><a href="../config/providers-section.html" class="active">providers section</a></li><li class="chapter-item expanded "><a href="../config/loggers-section.html">loggers section</a></li><li class="chapter-item expanded "><a href="../config/endpoints-section.html">endpoints section</a></li><li class="chapter-item expanded "><a href="../config/common-types.html">Common types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../config/common-types/expressions.html">Expressions</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../cli.html">Command-line options</a></li><li class="chapter-item expanded "><a href="../viewing-results.html">Viewing results</a></li><li class="chapter-item expanded "><a href="../tuning.html">Tuning a machine</a></li><li class="chapter-item expanded "><a href="../bug-report.html">Found a bug?</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="providers-section"><a class="header" href="#providers-section">providers section</a></h1>
<pre>
providers:
  <i>provider_name</i>:
    <i>provider_type</i>:
      [parameters]
</pre>
<p>Providers are the means of providing data to an endpoint, including using data from the response of one endpoint in the request of another. The way providers handle data can be thought of as a FIFO queue--when an endpoint uses data from a provider it &quot;pops&quot; a value from the beginning of the queue and when an endpoint provides data to a provider it is &quot;pushed&quot; to the end of the queue. Every provider has an internal buffer with has a soft limit on how many items can be stored.</p>
<p>A <em>provider_name</em> is any string except for &quot;request&quot;, &quot;response&quot;, &quot;stats&quot; and &quot;for_each&quot;, which are reserved.</p>
<p>Example:</p>
<pre><code class="language-yaml">providers:
  session:
    response:
      auto_return: force
  username:
    file:
      path: &quot;usernames.csv&quot;
      repeat: true
</code></pre>
<p>There are four <em>provider_type</em>s: <a href="#file">file</a>, <a href="#response">response</a>, <a href="#list">list</a> and <a href="#range">range</a>.</p>
<h2 id="file"><a class="header" href="#file">file</a></h2>
<p>The <code>file</code> <em>provider_type</em> reads data from a file. Every line in the file is read as a value. In the future, the ability to specify the format of the data (csv, json, etc) may be implemented. A <code>file</code> provider has the following parameters:</p>
<ul>
<li>
<p><strong><code>path</code></strong> - A <a href="./common-types.html#templates">template</a> value indicating the path to the file on the file system. Unlike templates used elsewhere, only variables defined in the <a href="./vars-section.html">vars section</a> can be interopolated. When a relative path is specified it is interpreted as relative to the config file. Absolute paths are supported though discouraged as they prevent the config file from being platform agnostic.</p>
</li>
<li>
<p><strong><code>repeat</code></strong> - <sub><sup><em>Optional</em></sup></sub> A boolean value which when <code>true</code> indicates when the provider <code>file</code> provider gets to the end of the file it should start back at the beginning. Defaults to <code>false</code>.</p>
</li>
<li>
<p><strong><code>unique</code></strong> - <sub><sup><em>Optional</em></sup></sub> A boolean value which when <code>true</code> makes the provider a &quot;unique&quot; provider--meaning each item within the provider will be a unique JSON value without duplicates. Defaults to <code>false</code>.</p>
</li>
<li>
<p><strong><code>auto_return</code></strong> <sub><sup><em>Optional</em></sup></sub> - This parameter specifies that when this provider is used by a request, after a response is received the value is automatically returned to the provider. Valid options for this parameter are <code>block</code>, <code>force</code>, and <code>if_not_full</code>. See the <code>send</code> parameter under the <a href="./endpoints-section.html#provides-subsection">endpoints.provides subsection</a> for details on the effect of these options.</p>
</li>
<li>
<p><strong><code>buffer</code></strong> <sub><sup><em>Optional</em></sup></sub> - Specifies the soft limit for a provider's buffer. This can be indicated with an integer greater than zero or the value <code>auto</code>. The value <code>auto</code> indicates that the soft limit can increase as needed. This happens after a provider is full then later becomes empty. Defaults to <code>auto</code>.</p>
</li>
<li>
<p><strong><code>format</code></strong> <sub><sup><em>Optional</em></sup></sub> - Specifies the format for the file. The format can be one of <code>line</code> (the default), <code>json</code>, or <code>csv</code>.</p>
<p>The <code>line</code> format will read the file one line at a time with each line ending in a newline (<code>\n</code>) or a carriage return and a newline (<code>\r\n</code>). Every line will attempt to be parsed as JSON, but if it is not valid JSON it will be a string. Note that a JSON object which spans multiple lines in the file, for example, will not parse into a single object.</p>
<p>The <code>json</code> format will read the file as a stream of JSON values. Every JSON value must be self-delineating (an object, array or string), or must be separated by whitespace or a self-delineating value. For example, the following:</p>
<pre><code class="language-json">{&quot;a&quot;:1}{&quot;foo&quot;:&quot;bar&quot;}47[1,2,3]&quot;some text&quot;true 56
</code></pre>
<p>Would parse into separate JSON values of <code>{&quot;a&quot;: 1}</code>, <code>{&quot;foo&quot;: &quot;bar&quot;}</code>, <code>47</code>, <code>[1, 2, 3]</code>, <code>&quot;some text&quot;</code>, <code>true</code>, and <code>56</code>.</p>
<p>The <code>csv</code> format will read the file as a CSV file. Every non-header column will attempt to be parsed as JSON, but if it is not valid JSON it will be a string. The <code>csv</code> parameter allows customization over how the file should be parsed.</p>
</li>
<li>
<p><strong><code>csv</code></strong> <sub><sup><em>Optional</em></sup></sub> - When parsing a file using the <code>csv</code> format, this parameter provides extra customization on how the file should be parsed. This parameter is in the format of an object with key/value pairs. If the format is not <code>csv</code> this property will be ignored.
The following sub-parameters are available:</p>
<table>
<thead>
<tr>
<th>Sub-parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<p>comment <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>Specifies a single-byte character which will mark a CSV record as a comment (ex. <code>#</code>). When not specified, no character is treated as a comment.</p>
</td>
</tr>
<tr>
<td>
<p>delimiter <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>Specifies a single-byte character used to separate columns in a record. Defaults to comma (<code>,</code>).</p>
</td>
</tr>
<tr>
<td>
<p>double_quote <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>A boolean that when enabled makes it so two quote characters can be used to escape quotes within a column. Defaults to <code>true</code>.</p>
</td>
</tr>
<tr>
<td>
<p>escape <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>Specifies a single-byte character which will be used to escape nested quote characters (ex. <code>\</code>). When not specified, escapes are disabled.</p>
</td>
</tr>
<tr>
<td>
<p>headers <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>Can be either a boolean value or a string. When a boolean, it indicates whether the first row in the file should be interpreted as column headers. When a string, the specified string is interpreted as a CSV record which is used for the column headers.</p>
<p>When headers are specified, each record served from the file will use the headers as keys for each column. When no headers are specified (the default), then each record will be returned as an array of values.</p>
<p>For example, with the following CSV file:</p>
<pre><code class="language-csv">id,name
0,Fred
1,Wilma
2,Pebbles
</code></pre>
<p>If <code>headers</code> was <code>true</code> than the following values would be provided (shown in JSON syntax): <code>{&quot;id&quot;: 0, name: &quot;Fred&quot;}</code>, <code>{&quot;id&quot;: 1, name: &quot;Wilma&quot;}</code>, and <code>{&quot;id&quot;: 3, name: &quot;Pebbles&quot;}</code>.</p>
<p>If <code>headers</code> was <code>false</code> than the following values would be provided: <code>[0, &quot;Fred&quot;]</code>, <code>[1, &quot;Wilma&quot;]</code>, and <code>[2, &quot;Pebbles&quot;]</code>.</p>
<p>If <code>headers</code> was <code>foo,bar</code> than the following values would be provided: <code>{&quot;foo&quot;: &quot;id&quot;, &quot;bar&quot;: &quot;name&quot;}</code>, <code>{&quot;foo&quot;: 0, &quot;bar&quot;: &quot;Fred&quot;}</code>, <code>{&quot;foo&quot;: 1, &quot;bar&quot;: &quot;Wilma&quot;}</code>, and <code>{&quot;foo&quot;: 3, &quot;bar&quot;: &quot;Pebbles&quot;}</code>.</p>
</td>
</tr>
<tr>
<td>
<p>terminator <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>Specifies a single-byte character used to terminate each record in the CSV file. Defaults to a special value where <code>\r</code>, <code>\n</code>, and <code>\r\n</code> are all accepted as terminators.</p>
<p>When specified, Pewpew becomes self-aware, unfolding a series of events which will ultimately lead to the end of the human race.</p>
</td>
</tr>
<tr>
<td>
<p>quote <sub><sup><em>Optional</em></sup></sub></p>
</td>
<td>
<p>Specifies a single-byte character that will be used to quote CSV columns. Defaults to the double-quote character (<code>&quot;</code>).</p>
</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong><code>random</code></strong> <sub><sup><em>Optional</em></sup></sub> - A boolean indicating that each record in the file should be returned in random order. Defaults to <code>false</code>.</p>
<p>When enabled there is no sense of &quot;fairness&quot; in the randomization. Any record in the file could be used more than once before other records are used.</p>
</li>
</ul>
<p><strong>Example</strong>, the following:</p>
<pre><code class="language-yaml">providers:
  - username:
    - file:
      path: &quot;usernames.csv&quot;
      repeat: true
      random: true
</code></pre>
<h2 id="response"><a class="header" href="#response">response</a></h2>
<p>Unlike other <em>provider_type</em>s <code>response</code> does not automatically receive data from a source. Instead a <code>response</code> provider is available to be a &quot;sink&quot; for data originating from an HTTP response. The <code>response</code> provider has the following parameters.</p>
<ul>
<li><strong><code>auto_return</code></strong> <sub><sup><em>Optional</em></sup></sub> - This parameter specifies that when this provider is used and an individual endpoint call concludes, the value it got from this provider should be sent back to the provider. Valid options for this parameter are <code>block</code>, <code>force</code>, and <code>if_not_full</code>. See the <code>send</code> parameter under the <a href="./endpoints-section.html#provides-subsection">endpoints.provides subsection</a> for details on the effect of these options.</li>
<li><strong><code>buffer</code></strong> <sub><sup><em>Optional</em></sup></sub> - Specifies the soft limit for a provider's buffer. This can be indicated with an integer greater than zero or the value <code>auto</code>. The value <code>auto</code> indicates that if the provider's buffer becomes empty it will automatically increase the buffer size to help prevent the provider from becoming empty again in the future. Defaults to <code>auto</code>.</li>
<li><strong><code>unique</code></strong> - <sub><sup><em>Optional</em></sup></sub> A boolean value which when <code>true</code> makes the provider a &quot;unique&quot; provider--meaning each item within the provider will be a unique JSON value without duplicates. Defaults to <code>false</code>.</li>
</ul>
<p><strong>Example</strong>, the following:</p>
<pre><code class="language-yaml">providers:
  - session:
    - response:
        buffer: 1000
        auto_return: if_not_full
</code></pre>
<h2 id="list"><a class="header" href="#list">list</a></h2>
<p>The <code>list</code> <em>provider_type</em> creates a means of specifying an array of static values to be used as a provider.
A <code>list</code> provider can be specified in two forms, either implicitly or explicitly. The explicit form has the following parameters:</p>
<ul>
<li><strong><code>random</code></strong> <sub><sup><em>Optional</em></sup></sub> - A boolean indicating that entries in the values array should provided in random order. When combined with <code>repeat</code> there is no sense of &quot;fairness&quot; in the randomization. Defaults to <em>false</em>.</li>
<li><strong><code>repeat</code></strong> <sub><sup><em>Optional</em></sup></sub> - A boolean indicating that the array should repeat infitely. Defaults to <em>true</em>.</li>
<li><strong><code>values</code></strong> - An array of json values.</li>
<li><strong><code>unique</code></strong> - <sub><sup><em>Optional</em></sup></sub> A boolean value which when <code>true</code> makes the provider a &quot;unique&quot; provider--meaning each item within the provider will be a unique JSON value without duplicates. Defaults to <code>false</code>.</li>
</ul>
<p><strong>Example</strong>, the following:</p>
<pre><code class="language-yaml">providers:
  foo:
    list:
      - 123
      - 456
      - 789
</code></pre>
<p>is an example of an implicit <code>list</code> provider. It creates a <code>list</code> provider named <code>foo</code> where the first value provided will be <code>123</code>, the second <code>456</code>, third <code>789</code> then for subsequent values it will start over at the beginning.</p>
<p><strong>Example</strong>, the following:</p>
<pre><code class="language-yaml">providers:
  foo:
    list:
      values:
        - 123
        - 456
        - 789
      random: true
</code></pre>
<p>is an example of an explicit <code>list</code> provider. It creates a <code>list</code> provider named <code>foo</code> where the value provided will be randomized between the values listed.</p>
<h2 id="range"><a class="header" href="#range">range</a></h2>
<p>The <code>range</code> <em>provider_type</em> provides an incrementing sequence of numbers in a given range. A <code>range</code> provider takes three optional parameters.</p>
<ul>
<li><strong><code>start</code></strong> <sub><sup><em>Optional</em></sup></sub> - A whole number in the range of [-9223372036854775808, 9223372036854775807]. This indicates what the starting number should be for the range. Defaults to <code>0</code>.</li>
<li><strong><code>end</code></strong> <sub><sup><em>Optional</em></sup></sub> - A whole number in the range of [-9223372036854775808, 9223372036854775807]. This indicates what the end number should be for the range. This number is included in the range. Defaults to <code>9223372036854775807</code>.</li>
<li><strong><code>step</code></strong> <sub><sup><em>Optional</em></sup></sub> - A whole number in the range of [1, 65535]. This indicates how big each &quot;step&quot; in the range will be. Defaults to <code>1</code>.</li>
<li><strong><code>repeat</code></strong> <sub><sup><em>Optional</em></sup></sub> - A boolean which causes the range to repeat infinitely. Defaults to <code>false</code>.</li>
<li><strong><code>unique</code></strong> - <sub><sup><em>Optional</em></sup></sub> A boolean value which when <code>true</code> makes the provider a &quot;unique&quot; provider--meaning each item within the provider will be a unique JSON value without duplicates. Defaults to <code>false</code>.</li>
</ul>
<p><strong>Examples</strong>:</p>
<pre><code class="language-yaml">providers:
  foo:
    range: {}
</code></pre>
<p>Will use the default settings and <code>foo</code> will provide the values <code>0</code>, <code>1</code>, <code>2</code>, etc. until it yields the end number (<code>9223372036854775807</code>).</p>
<pre><code class="language-yaml">providers:
  foo:
    range:
      start: -50
      end: 100
      step: 2
</code></pre>
<p>In this case <code>foo</code> will provide the valuels <code>-50</code>, <code>-48</code>, <code>-46</code>, etc. until it yields <code>100</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../config/vars-section.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../config/loggers-section.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../config/vars-section.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../config/loggers-section.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
